/**
 * @file Overview
 * This ruleset is designed for an initial prototyping phase of a material order management application.
 * It prioritizes ease of development and iteration with relaxed data validation, while maintaining a
 * strong authorization foundation.
 *
 * Core Philosophy:
 * Initially, the ruleset operates in a "sandbox" mode, allowing open read and write access for rapid
 * development. However, it is structured with the anticipation of future user authentication
 * and authorization. The core principle is to establish a secure base that can be easily
 * adapted to a more restrictive access model when authentication is implemented.
 *
 * Data Structure:
 * Orders are stored in a single top-level collection called `/pedidos/{pedidoId}`.
 *
 * Key Security Decisions:
 * - In the interest of rapid prototyping, data validation is minimal. The rules focus primarily on
 *   controlling access based on authentication status.
 * - No user-specific data segregation is implemented initially. All users have access to all orders.
 * - These rules are designed as a starting point and should be updated with appropriate
 *   authentication and authorization logic as the application evolves.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Manages access control for the /pedidos collection, which stores material orders.
     * @path /pedidos/{pedidoId}
     * @allow (get, list) Any user can read any order.
     * @allow (create, update, delete) Any user can create, update, or delete any order.
     * @deny (none) No requests are explicitly denied in sandbox mode.
     * @principle Allows any signed in user to read or write data.
     */
    match /pedidos/{pedidoId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}